<!-- <p>oi yan </p> -->

<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>quicklist — Compras da semana</title>
  <style>
    :root{
      --bg:#f4f5fb;
      --card:#ffffff;
      --text:#1f2937;
      --muted:#6b7280;
      --primary:#d13b82;         /* botão */
      --primary-600:#b83272;
      --danger:#d14343;          /* toast */
      --ring: rgba(209,59,130,0.35);
      --radius: 14px;
      --shadow: 0 8px 24px rgba(31,41,55,.08);
    }
    html,body{height:100%;}
    body{
      margin:0; font:16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background:var(--bg);
      color:var(--text);
    }
    .container{ max-width:760px; margin:32px auto 72px; padding:0 20px; }

    /* Topbar */
    .topbar{ display:flex; align-items:center; justify-content:center; position:relative; margin-bottom:16px; }
    .back{ position:absolute; left:0; top:50%; transform:translateY(-50%); color:var(--primary); text-decoration:none; font-weight:600; display:inline-flex; align-items:center; gap:8px; }
    .back:hover{ text-decoration:underline; }
    .brand{ display:inline-flex; gap:10px; align-items:center; font-weight:800; font-size:22px; color:#374151; }
    .brand svg{ width:28px; height:28px; }

    h1{ font-size:28px; margin:16px 0 18px; }

    /* Form */
    .add-form{ display:flex; gap:12px; }
    .input{ flex:1; height:48px; padding:0 16px; border-radius:var(--radius); border:1px solid #e5e7eb; background:#fff; color:var(--text); box-shadow:var(--shadow);
      outline:none; transition: box-shadow .15s ease, border-color .15s ease; }
    .input::placeholder{ color:#9ca3af; }
    .input:focus{ border-color:var(--primary); box-shadow:0 0 0 4px var(--ring); }

    .btn{ height:48px; padding:0 18px; border-radius:var(--radius); border:0; background:var(--primary); color:#fff; font-weight:700; cursor:pointer; box-shadow:var(--shadow);
      transition:background .15s ease, transform .04s ease; }
    .btn:hover{ background:var(--primary-600); }
    .btn:active{ transform: translateY(1px); }

    /* List */
    .list{ list-style:none; padding:0; margin:18px 0 0; display:flex; flex-direction:column; gap:12px; }
    .item{ display:flex; align-items:center; gap:12px; background:var(--card); border-radius:var(--radius); padding:14px 16px; box-shadow:var(--shadow); border:1px solid #f1f5f9; }
    .label{ flex:1; }
    .done .label{ text-decoration:line-through; color:var(--muted); }

    /* Checkbox moderno */
    .check{ width:20px; height:20px; accent-color: var(--primary); cursor:pointer; }

    /* Delete */
    .del{ background:#fff; border:1px solid #e5e7eb; border-radius:10px; width:36px; height:36px; display:grid; place-items:center; cursor:pointer; transition:background .15s ease, border-color .15s ease; }
    .del:hover{ background:#fff0f6; border-color:#f5c3dc; }
    .del svg{ width:18px; height:18px; stroke:#64748b; }

    /* Toast */
    .toast{ position:fixed; left:50%; transform:translate(-50%, 16px); bottom:16px; background:var(--danger); color:#fff; border-radius:12px; box-shadow:var(--shadow); padding:12px 16px; display:flex; align-items:center; gap:10px; min-width:280px; max-width:90vw; opacity:0; pointer-events:none; transition: opacity .2s ease, transform .2s ease; }
    .toast.show{ opacity:1; transform:translate(-50%, 0); pointer-events:auto; }
    .toast .close{ background:transparent; border:0; color:#fff; font-size:18px; cursor:pointer; margin-left:auto; }
    .toast .badge{ display:inline-grid; place-items:center; width:22px; height:22px; border-radius:50%; background:rgba(255,255,255,.25); font-weight:700; }

    @media (max-width:520px){
      .btn{ padding:0 14px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="topbar">
      <a class="back" href="#" onclick="history.back();return false;" aria-label="Voltar">
        <span>← Voltar</span>
      </a>
      <div class="brand" aria-label="quicklist">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <path d="M4 6h3" stroke="#d13b82" stroke-width="2" stroke-linecap="round"/>
          <rect x="8" y="5" width="12" height="2" rx="1" fill="#d13b82"/>
          <path d="M4 12h3" stroke="#d13b82" stroke-width="2" stroke-linecap="round"/>
          <rect x="8" y="11" width="12" height="2" rx="1" fill="#d13b82"/>
          <path d="M4 18h3" stroke="#d13b82" stroke-width="2" stroke-linecap="round"/>
          <rect x="8" y="17" width="12" height="2" rx="1" fill="#d13b82"/>
        </svg>
        quicklist
      </div>
    </div>

    <h1>Compras da semana</h1>

    <form id="add-form" class="add-form" autocomplete="off">
      <input id="item-input" class="input" type="text" placeholder="Adicione um novo item" aria-label="Adicione um novo item" />
      <button class="btn" type="submit">Adicionar item</button>
    </form>

    <ul id="list" class="list" aria-live="polite"></ul>
  </div>

  <div id="toast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
    <span class="badge">!</span>
    <span id="toast-msg">O item foi removido da lista</span>
    <button class="close" aria-label="Fechar aviso" title="Fechar">×</button>
  </div>

  <script>
    // =========================
    // quicklist — lógica básica
    // =========================

    const STORAGE_KEY = 'quicklist-items-v1';

    /** @type {{id:string,text:string,done:boolean}[]} */
    let items = [];
    const formEl = document.getElementById('add-form');
    const inputEl = document.getElementById('item-input');
    const listEl  = document.getElementById('list');
    const toastEl = document.getElementById('toast');
    const toastMsg= document.getElementById('toast-msg');
    const toastClose = toastEl.querySelector('.close');

    // ---- persistência
    const load = () => {
      try { items = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]'); }
      catch { items = []; }
      if (!Array.isArray(items)) items = [];
      // Seed inicial se vazio
      if (items.length === 0) {
        items = [
          { id: uid(), text: 'Pão de forma', done: false },
          { id: uid(), text: 'Café preto', done: false },
          { id: uid(), text: 'Suco de laranja', done: false },
          { id: uid(), text: 'Bolacha', done: false },
        ];
        save();
      }
    };
    const save = () => localStorage.setItem(STORAGE_KEY, JSON.stringify(items));

    // ---- util
    function uid(){ return Math.random().toString(36).slice(2, 9) + Date.now().toString(36).slice(-3); }

    // ---- renderização
    function render(){
      listEl.innerHTML = '';
      items.forEach(item => listEl.appendChild(renderItem(item)));
    }

    function renderItem(item){
      const li = document.createElement('li');
      li.className = 'item' + (item.done ? ' done' : '');
      li.dataset.id = item.id;

      const check = document.createElement('input');
      check.type = 'checkbox';
      check.className = 'check';
      check.checked = item.done;
      check.setAttribute('aria-label', `Marcar ${item.text}`);

      const label = document.createElement('span');
      label.className = 'label';
      label.textContent = item.text;

      const del = document.createElement('button');
      del.className = 'del';
      del.setAttribute('aria-label', `Remover ${item.text}`);
      del.innerHTML = `<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <path d="M3 6h18" stroke="#9ca3af" stroke-width="2" stroke-linecap="round"/>
        <path d="M8 6v-1a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1" stroke="#9ca3af" stroke-width="2"/>
        <rect x="6" y="8" width="12" height="12" rx="2" stroke="#9ca3af" stroke-width="2"/>
        <path d="M10 11v6M14 11v6" stroke="#9ca3af" stroke-width="2" stroke-linecap="round"/>
      </svg>`;

      // eventos
      check.addEventListener('change', () => {
        item.done = check.checked;
        li.classList.toggle('done', item.done);
        save();
      });

      del.addEventListener('click', () => {
        items = items.filter(i => i.id !== item.id);
        save();
        render();
        showToast('O item foi removido da lista');
      });

      li.append(check, label, del);
      return li;
    }

    // ---- formulário
    formEl.addEventListener('submit', (e) => {
      e.preventDefault();
      const text = inputEl.value.trim();
      if (!text) { inputEl.focus(); return; }
      items.push({ id: uid(), text, done:false });
      inputEl.value='';
      save();
      render();
    });

    // ---- toast
    let toastTimer;
    function showToast(message){
      toastMsg.textContent = message;
      toastEl.classList.add('show');
      clearTimeout(toastTimer);
      toastTimer = setTimeout(hideToast, 3000);
    }
    function hideToast(){ toastEl.classList.remove('show'); }
    toastClose.addEventListener('click', hideToast);

    // init
    load();
    render();
  </script>
</body>
</html>